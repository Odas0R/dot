#!/usr/bin/env bash

path="$HOME/.local/bin/scripts/${1}"

[[ -z ${1} ]] && echo "usage: newx <name>" && exit 1

if [[ -e $path ]]; then
  read -r -p "${1} already exists. Edit?" yes
  case "$yes" in
  y | yes | ok | okay) exec nvim "$path" ;;
  esac
  exit 0
fi

tee "$path" <<EOF >/dev/null
#!/usr/bin/env bash

set -euxo pipefail

EOF

chmod +x "$path"
nvim +2 "$path"
