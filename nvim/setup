#!/bin/bash

set -e

if [ ! -x "$(command -v nvim)" ]; then
  echo "Need to install neovim" >&2
  exit 1
fi

NVIM="$HOME/.config/nvim/"

# creates the nvim config directory
mkdir -p "$NVIM"

# setups
ln -sf "$HOME/dot/nvim/init.vim" "$NVIM/init.vim"
ln -sf "$HOME/dot/nvim/init.vim" "$HOME/.vimrc"
ln -sf "$HOME/dot/nvim/spell" "$NVIM/spell"
ln -sf "$HOME/dot/nvim/coc-settings.json" "$NVIM/coc-settings.json"

# installing plug
if [[ ! -f "$NVIM/autoload/plug.vim" ]]; then
  curl -fLo "$NVIM/autoload/plug.vim" --create-dirs \
    https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim
fi

printf "To install all vim plugins :PlugInstall!\n"

echo "Vim setup done! ðŸŒŸ"
